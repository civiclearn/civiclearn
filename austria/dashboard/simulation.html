<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title data-i18n="title_simulation">Test Simulation</title>

  <!-- Core Styles -->
<link rel="stylesheet" href="/assets/css/dashboard-core.css">
<link rel="stylesheet" href="/assets/css/test-core.css">
<!-- Flag size override -->
  <style>
    .brand svg {
      width: 30px !important;
      height: 30px !important;
    }
  </style>
 <script>
  document.documentElement.classList.add("i18n-hidden");
</script>
<script type="module" src="/assets/js/auth-guarde.js"></script>

</head>

<body class="test-page">

  <!-- MOBILE MENU -->
  <button class="menu-toggle" aria-label="Menu">â˜°</button>

  <div class="wrap">

    <!-- SIDEBAR -->
    <aside class="sidebar">

<div class="brand">
  CivicLearnÂ®
  <svg viewBox="0 0 12000 6000"
       width="30"
       height="30"
       style="margin-left:6px;vertical-align:middle;border-radius:3px;overflow:hidden">
    <defs>
      <clipPath id="clip">
        <rect width="12000" height="6000" />
      </clipPath>
    </defs>
    <g clip-path="url(#clip)">
      <rect width="12000" height="6000" fill="#012169"/>
      <g transform="scale(600)">
        <rect width="10" height="5" fill="#012169"/>
        <path d="M0,0 L10,5 M10,0 L0,5" stroke="#fff" stroke-width="1"/>
        <path d="M0,0 L10,5 M10,0 L0,5" stroke="#C8102E" stroke-width="0.6"/>
        <path d="M5,0 V5 M0,2.5 H10" stroke="#fff" stroke-width="1.6"/>
        <path d="M5,0 V5 M0,2.5 H10" stroke="#C8102E" stroke-width="1"/>
      </g>

      <!-- Commonwealth Star -->
      <g transform="translate(3000 4200) scale(450)" fill="#fff">
        <polygon points="0,-1 0.224,-0.309 0.951,-0.309 0.363,0.118 0.588,0.809 0,0.382 -0.588,0.809 -0.363,0.118 -0.951,-0.309 -0.224,-0.309"/>
      </g>

      <!-- Southern Cross (simplified) -->
      <g fill="#fff">
        <circle cx="8400" cy="2700" r="180"/>
        <circle cx="9000" cy="3600" r="160"/>
        <circle cx="7800" cy="3600" r="160"/>
        <circle cx="9000" cy="2000" r="140"/>
        <circle cx="8200" cy="3200" r="90"/>
      </g>
    </g>
  </svg>
</div>


          <nav class="nav">
  <a href="index.html"  data-i18n="nav_dashboard"></a>
  <a href="simulation.html" class="sub active" data-i18n="nav_simulation"></a>
  <a href="quick.html" data-i18n="nav_quick"></a>
  <a href="topics.html" data-i18n="nav_topics"></a>
  <a href="traps.html" data-i18n="nav_traps"></a>
  <a href="flashcards.html" data-i18n="nav_flashcards"></a>
  <a href="history.html" data-i18n="nav_history"></a>
  <a href="help.html" data-i18n="nav_help"></a>
  <a href="#" data-i18n="nav_logout" id="logoutLink"></a>
</nav>
      <div class="spacer"></div>

<div class="profile">
  <div class="profile-info">
    <div class="reading-inline">
      <span data-i18n="reading_label"></span>
      <button id="readingToggle"
              class="reading-btn inline"
              data-i18n="reading_tooltip"
              data-i18n-attr="title">ðŸ”‡</button>
    </div>
  </div>
</div>

    </aside>

    <!-- OVERLAY -->
    <div class="overlay" id="menuOverlay"></div>

    <!-- MAIN -->
   <main>

<header class="ce-header ce-header-top">
  <h1 data-i18n="title_simulation">Simulation du test</h1>

  <div class="ce-timer-container">
    <div id="ce-timer-ring"></div>
    <div id="ce-timer-label" class="ce-timer-sr-only"></div>
  </div>
</header>

<div class="ce-progress-global">
  <div class="ce-progress-global-bar" id="simProgress"></div>
</div>

<div class="quiz-container" id="quizArea">
  <div id="quiz"></div>
</div>

</main>


  </div>

<!-- CONFIG + I18N -->
<script src="/assets/js/config-at.js"></script>
<script src="/assets/js/i18n.js"></script>
<script>CivicLearnI18n.init();</script>

<!-- READING (static, must come BEFORE engine) -->
<script src="/assets/js/reading.js"></script>

<!-- ENGINE -->
<script src="/assets/js/engine-at.js"></script>


<script>
document.addEventListener("DOMContentLoaded", () => {

  /* MOBILE MENU */
  const toggle = document.querySelector(".menu-toggle");
  const overlay = document.getElementById("menuOverlay");
  toggle.addEventListener("click", () => document.body.classList.toggle("menu-open"));
  overlay.addEventListener("click", () => document.body.classList.remove("menu-open"));

  /* THEME */
  try {
    const s = JSON.parse(localStorage.getItem("civicedge_settings") || "{}");
    if (s.theme) document.documentElement.dataset.theme = s.theme;
  } catch {}

  /* START SIMULATION */
  /* START SIMULATION */
  const userBundesland = localStorage.getItem("civiclearn_bundesland");

  if (!userBundesland) {
    localStorage.setItem("civiclearn_return_to", window.location.pathname);
    window.location.href = "/austria/dashboard/bundesland.html";
    return;
  }

  setTimeout(() => {
    CivicEdgeEngine.start("simulation");
  }, 600);


  /* END-SCREEN BUTTONS */
  document.addEventListener("click", e => {
    if (!e.target.id) return;

    const backIDs = ["changeTheme", "returnBtn", "restartBtn", "ce-return"];

    if (backIDs.includes(e.target.id)) {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: "smooth" });
      location.reload();
    }
  });

});
</script>
<script src="/assets/js/signout.js"></script>
</body>
</html>
