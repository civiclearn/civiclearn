<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Offizielle Lernunterlagen</title>

  <!-- Core Styles -->
  <link rel="stylesheet" href="/assets/css/dashboard-core.css">

  <!-- Page-specific styles -->
  <style>
  .reference-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
  margin-top: 24px;
  max-width: 920px;   /* optional but recommended */
}
.reference-card {
  background: var(--card-bg, #fff);
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 8px 24px rgba(0,0,0,.05);
  display: flex;
  gap: 18px;
  align-items: flex-start;
}

/* THUMBNAIL, not hero */
.reference-cover {
  width: 110px;
  height: 150px;
  object-fit: contain;   /* ← KEY CHANGE */
  border-radius: 8px;
  flex-shrink: 0;
  background: #eee;
}

/* Text block */
.reference-content {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.reference-content h2 {
  margin: 0;
  font-size: 1.1rem;
}

.reference-content .authority {
  font-size: 0.85rem;
  color: var(--muted, #666);
}

.reference-content p {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.45;
}

/* Buttons stay compact */
.reference-actions a {
  margin-top: 8px;
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 0.9rem;
}

/* MOBILE: stack image above text, still small */
@media (max-width: 700px) {
  .reference-card {
    flex-direction: column;
  }

  .reference-cover {
    width: 100%;
    height: 140px;
  }
}

  </style>

  <script>
    document.documentElement.classList.add("i18n-hidden");
  </script>
  <script type="module" src="/assets/js/auth-guard.js"></script>
</head>

<body>

<!-- MOBILE MENU -->
<button class="menu-toggle" aria-label="Menu">☰</button>

<div class="wrap">

  <!-- SIDEBAR -->
  <aside class="sidebar">

    <div class="brand">
      CivicLearn®
      <svg viewBox="0 0 3 2"
           width="30"
           height="30"
           style="margin-left:6px;vertical-align:middle;border-radius:3px;overflow:hidden">
        <rect x="0" y="0" width="3" height="2" fill="#ED2939"/>
        <rect x="0" y="0.6667" width="3" height="0.6667" fill="#ffffff"/>
      </svg>
    </div>

    <nav class="nav">
      <a href="index.html" data-i18n="nav_dashboard"></a>
      <a href="simulation.html" data-i18n="nav_simulation"></a>
      <a href="quick.html" data-i18n="nav_quick"></a>
      <a href="topics.html" data-i18n="nav_topics"></a>
      <a href="traps.html" data-i18n="nav_traps"></a>
      <a href="flashcards.html" data-i18n="nav_flashcards"></a>
	  <a href="my-list.html" data-i18n="nav_my_list"></a>
      <a href="reference.html" class="sub active" data-i18n="nav_reference_texts"></a>
      <a href="history.html" data-i18n="nav_history"></a>
      <a href="help.html" data-i18n="nav_help"></a>
      <a href="#" data-i18n="nav_logout" id="logoutLink"></a>
    </nav>

    <div class="spacer"></div>
  </aside>

  <!-- OVERLAY -->
  <div class="overlay" id="menuOverlay"></div>

  <!-- MAIN -->
  <main>

    <header class="ce-header ce-header-top">
      <h1>Offizielle Lernunterlagen</h1>
      <div class="muted">
        Diese Dokumente bilden die Grundlage für die Staatsbürgerschaftsprüfung.
      </div>
    </header>

    <div class="dashboard-container">

      <div class="reference-grid">

        <!-- FEDERAL STUDY GUIDE -->
        <div class="reference-card">
          <img
            src="/assets/images/at/mein-oesterreich-cover.png"
            alt="Mein Österreich – Lernunterlage"
            class="reference-cover"
          />

          <div class="reference-content">
            <h2>Mein Österreich</h2>
            <div class="authority">Bundesministerium für Inneres (BMI)</div>

            <p>
              Offizielle Lernunterlage für die Prüfungsteile
              <strong>„Geschichte Österreichs“</strong> und
              <strong>„demokratische Grundordnung“</strong>.
              Diese Broschüre gilt österreichweit.
            </p>

            <div class="reference-actions">
              <a href="https://media.civiclearn.com/at/mein-oesterreich.pdf" target="_blank" rel="noopener">
                PDF herunterladen →
              </a>
            </div>
          </div>
        </div>

        <!-- BUNDESLAND -->
        <div class="reference-card" id="bundeslandCard">
          <img
            src="/assets/img/at/bundesland-placeholder.webp"
            alt="Bundesland Lernunterlage"
            class="reference-cover"
            id="bundeslandCover"
          />

          <div class="reference-content">
            <h2 id="bundeslandTitle">Ihr Bundesland</h2>

            <p id="bundeslandText">
              Für den dritten Prüfungsteil benötigen Sie die offiziellen
              Fragen Ihres Bundeslandes.
            </p>

            <div class="reference-actions" id="bundeslandActions">
              <a href="bundesland.html"
   onclick="localStorage.setItem('civiclearn_return_to','reference.html')">
   Bundesland auswählen →
</a>
            </div>

            <div class="reference-note">
              Dieser Fragenkatalog wird vom jeweiligen Bundesland veröffentlicht.
            </div>
          </div>
        </div>

      </div>

    </div>

  </main>
</div>

<!-- CONFIG + I18N -->
<script src="/assets/js/config-at.js"></script>
<script src="/assets/js/i18n.js"></script>
<script>
  CivicLearnI18n.init();
</script>

<!-- ENGINE -->
<script src="/assets/js/engine-at.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* MOBILE MENU */
  const toggle = document.querySelector(".menu-toggle");
  const overlay = document.getElementById("menuOverlay");
  toggle.addEventListener("click", () => document.body.classList.toggle("menu-open"));
  overlay.addEventListener("click", () => document.body.classList.remove("menu-open"));

  /* THEME */
  try {
    const s = JSON.parse(localStorage.getItem("civicedge_settings") || "{}");
    if (s.theme) document.documentElement.dataset.theme = s.theme;
  } catch {}

  /* ===========================
     BUNDESLAND CONFIG (EDIT HERE)
     =========================== */
 const BUNDESLAND_DATA = {
  "Wien": {
    pdf: "https://media.civiclearn.com/at/wien.pdf",
    cover: "/assets/images/at/wien.svg"
  },
  "Niederösterreich": {
    pdf: "https://media.civiclearn.com/at/niederoesterreich.pdf",
    cover: "/assets/images/at/niederoesterreich.svg"
  },
  "Oberösterreich": {
    pdf: "https://media.civiclearn.com/at/oberoesterreich.pdf",
    cover: "/assets/images/at/oberoesterreich.svg"
  },
  "Steiermark": {
    pdf: "https://media.civiclearn.com/at/steiermark.pdf",
    cover: "/assets/images/at/steiermark.svg"
  },
  "Tirol": {
    pdf: "https://media.civiclearn.com/at/tirol.pdf",
    cover: "/assets/images/at/tirol.svg"
  },
  "Salzburg": {
    pdf: "https://media.civiclearn.com/at/salzburg.pdf",
    cover: "/assets/images/at/stsalzburg.svg"
  },
  "Kärnten": {
    pdf: "https://media.civiclearn.com/at/karnten.pdf",
    cover: "/assets/images/at/kaernten.svg"
  },
  "Vorarlberg": {
    pdf: "https://media.civiclearn.com/at/vorarlberg.pdf",
    cover: "/assets/images/at/vorarlberg.svg"
  },
  "Burgenland": {
    pdf: "https://media.civiclearn.com/at/burgenland.pdf",
    cover: "/assets/images/at/burgenland.svg"
  }
};


  /* ===========================
     BUNDESLAND CARD RENDERING
     =========================== */
  const bl = localStorage.getItem("civiclearn_bundesland");
  if (!bl || !BUNDESLAND_DATA[bl]) return;

  const data = BUNDESLAND_DATA[bl];

  document.getElementById("bundeslandTitle").textContent =
    `Offizielle Fragen – ${bl}`;

  document.getElementById("bundeslandText").textContent =
    `Offizieller Fragenkatalog für den Prüfungsteil „Geschichte meines Bundeslandes“ (${bl}).`;

  document.getElementById("bundeslandCover").src = data.cover;

  document.getElementById("bundeslandActions").innerHTML = `
    <a href="${data.pdf}" target="_blank" rel="noopener">
      PDF herunterladen →
    </a>
    <br><br>
    <a href="bundesland.html" style="background:#eee;color:#333">
      Bundesland ändern
    </a>
  `;
});
</script>


<script src="/assets/js/signout.js"></script>
</body>
</html>
