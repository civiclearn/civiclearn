<!DOCTYPE html>
<html lang="ro-RO">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acces Premium â€“ CivicLearn RomÃ¢nia</title>
  <meta name="description" content="ActivaÈ›i accesul Premium pentru pregÄƒtirea interviului de cetÄƒÈ›enie romÃ¢nÄƒ. SimulÄƒri oficiale, sute de Ã®ntrebÄƒri, analize avansate È™i acces pe viaÈ›Äƒ. PlatÄƒ unicÄƒ, acces imediat.">

  <link rel="canonical" href="https://civiclearn.com/romania/checkout.html">

  <meta property="og:title" content="Acces Premium â€“ PregÄƒtire pentru interviul de cetÄƒÈ›enie romÃ¢nÄƒ">
  <meta property="og:description" content="ObÈ›ineÈ›i acces complet la simulÄƒri oficiale, Ã®ntrebÄƒri actualizate, sesiuni rapide È™i statistici avansate. PlatÄƒ unicÄƒ, acces imediat.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://civiclearn.com/romania/checkout.html">
  <meta property="og:image" content="https://civiclearn.com/romania/assets/img/og-cover.webp">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Acces Premium â€“ PregÄƒtire pentru interviul de cetÄƒÈ›enie romÃ¢nÄƒ">
  <meta name="twitter:description" content="ActivaÈ›i accesul Premium: simulÄƒri oficiale, sute de Ã®ntrebÄƒri, sesiuni rapide È™i acces pe viaÈ›Äƒ.">
  <meta name="twitter:image" content="https://civiclearn.com/romania/assets/img/og-cover.webp">

  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/checkout.css">
</head>

<body>

<header class="checkout-header">
  <div class="checkout-header-inner">

    <div class="checkout-brand">
      <img src="/assets/images/icons/ro.svg" alt="RomÃ¢nia">
      CivicLearn RomÃ¢nia
    </div>

    <div class="checkout-powered">
      <small>propulsat de</small>
      <a href="https://civiclearn.com">CivicLearn</a>
    </div>

  </div>
</header>

<main>
  <div class="layout">

    <!-- LEFT: BENEFITS CARD -->
    <aside class="features">
      <h2>Acces Premium</h2>
      <div class="price">119 lei</div>
      <div class="once">PlatÄƒ unicÄƒ Â· acces pe viaÈ›Äƒ</div>

      <div class="divider"></div>

      <h3>Ce este inclus</h3>

      <ul class="benefits">
        <li>Sute de Ã®ntrebÄƒri de Ã®naltÄƒ calitate</li>
        <li>SimulÄƒri oficiale nelimitate</li>
        <li>Teste rapide È™i personalizate</li>
        <li>ÃntrebÄƒri dificile grupate automat</li>
        <li>Statistici avansate È™i analizÄƒ a progresului</li>
        <li>Istoric complet al sesiunilor</li>
        <li>Teme È™i categorii structurate conform interviului oficial</li>
        <li>Faptul zilei â€“ Ã®nvÄƒÈ›are naturalÄƒ, zilnicÄƒ</li>
        <li>Memento-uri zilnice pentru menÈ›inerea ritmului</li>
        <li>100% optimizat pentru telefon, tabletÄƒ È™i laptop</li>
        <li>Acces imediat dupÄƒ platÄƒ</li>
        <li>ActualizÄƒri gratuite È™i permanente</li>
        <li>Acces pe viaÈ›Äƒ la platformÄƒ</li>
      </ul>

      <p class="recommend">
        Recomandat de candidaÈ›i care au promovat interviul.
      </p>
    </aside>

    <!-- RIGHT: PAYMENT CARD -->
    <section class="right">
      <div class="checkout-card">

        <h1>ActivaÈ›i accesul Premium</h1>
        <div class="secure-line">PlatÄƒ 100% securizatÄƒ prin Stripe</div>

        <!-- MULTI-STATE CHECKOUT FLOW -->
        <div class="checkout-flow" id="checkoutFlow">

          <!-- STATE 1: INITIAL BUTTON -->
          <div class="checkout-step" id="stepInitial">
            <button type="button" class="pay-btn" id="startCheckout">
              ContinuaÈ›i cÄƒtre plata securizatÄƒ
            </button>
            <p class="small-note">
              VeÈ›i fi redirecÈ›ionat cÄƒtre Stripe pentru plata securizatÄƒ.
            </p>
          </div>

          <!-- STATE 2: EMAIL ENTRY -->
          <div class="checkout-step" id="stepEmail" hidden>
            <p class="email-instructions">
              IntroduceÈ›i adresa de email pe care doriÈ›i sÄƒ o folosiÈ›i pentru contul dvs. CivicLearn.
            </p>

            <div class="email-field-group">
              <label for="checkoutEmail">Email</label>
              <input
                type="email"
                id="checkoutEmail"
                autocomplete="email"
                placeholder="exemplu@domeniu.com"
                inputmode="email"
              />
            </div>

            <button type="button" class="pay-btn" id="continueWithEmail">
              ContinuÄƒ
            </button>

          </div>

          <!-- STATE 3: EMAIL CONFIRMATION -->
          <div class="checkout-step" id="stepConfirm" hidden>
            <p class="confirm-text">
              Contul dvs. va fi creat cu aceastÄƒ adresÄƒ de email:
            </p>
            <p class="email-display" id="emailDisplay"></p>
            <p class="confirm-warning">
              VerificaÈ›i cu atenÈ›ie. FolosiÈ›i o adresÄƒ la care aveÈ›i acces pentru a primi linkul de autentificare.
            </p>

            <div class="confirm-actions">
              <button type="button" class="pay-btn" id="confirmEmail">
                Da, continuÄƒ cÄƒtre plata securizatÄƒ
              </button>
              <button type="button" class="link-btn" id="editEmail">
                EditeazÄƒ adresa de email
              </button>
            </div>
          </div>

          <!-- MESSAGE AREA -->
          <div id="checkoutMessage" class="checkout-message" aria-live="polite"></div>

        </div>

        <div class="trust">
          <div>ğŸ”’ PlatÄƒ securizatÄƒ</div>
          <div>âš¡ Acces imediat</div>
          <div>âœ” FÄƒrÄƒ abonament</div>
        </div>

        <div class="after-text">
          AveÈ›i deja un cont?
          <a href="login.html">AutentificaÈ›i-vÄƒ aici</a>.
        </div>

      </div>
    </section>

  </div>
</main>

<script>
(function() {
  const stepInitial = document.getElementById("stepInitial");
  const stepEmail   = document.getElementById("stepEmail");
  const stepConfirm = document.getElementById("stepConfirm");

  const startBtn        = document.getElementById("startCheckout");
  const continueBtn     = document.getElementById("continueWithEmail");
  const confirmBtn      = document.getElementById("confirmEmail");
  const editEmailBtn    = document.getElementById("editEmail");

  const emailInput      = document.getElementById("checkoutEmail");
  const emailDisplay    = document.getElementById("emailDisplay");
  const messageBox      = document.getElementById("checkoutMessage");

  let currentEmail = "";
  let isSubmitting = false;

  function showStep(stepId) {
    stepInitial.hidden = stepId !== "initial";
    stepEmail.hidden   = stepId !== "email";
    stepConfirm.hidden = stepId !== "confirm";
  }

  function clearMessage() {
    messageBox.textContent = "";
    messageBox.className = "checkout-message";
    messageBox.style.display = "none";
  }

  function showMessage(type, text) {
    messageBox.textContent = text;
    messageBox.className = "checkout-message " + type;
    messageBox.style.display = "block";
  }

  function validateEmail(value) {
    const email = value.trim();
    if (!email) return { ok: false, msg: "VÄƒ rugÄƒm sÄƒ introduceÈ›i adresa de email." };
    // Basic email shape check
    const simplePattern = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
    if (!simplePattern.test(email)) {
      return { ok: false, msg: "Adresa de email nu pare validÄƒ. VerificaÈ›i È™i Ã®ncercaÈ›i din nou." };
    }
    return { ok: true, email };
  }

  // STATE 1 â†’ STATE 2
  startBtn.addEventListener("click", () => {
    clearMessage();
    showStep("email");
    emailInput.focus();
  });

  // STATE 2 â†’ STATE 3
  continueBtn.addEventListener("click", () => {
    clearMessage();
    const { ok, msg, email } = validateEmail(emailInput.value);
    if (!ok) {
      showMessage("error", msg);
      emailInput.focus();
      return;
    }
    currentEmail = email;
    emailDisplay.textContent = currentEmail;
    showStep("confirm");
  });

  // STATE 3 â†’ back to email edit
  editEmailBtn.addEventListener("click", () => {
    clearMessage();
    showStep("email");
    emailInput.focus();
  });

  // STATE 3 â†’ Stripe (create Checkout Session)
  confirmBtn.addEventListener("click", async () => {
    if (isSubmitting) return;
    if (!currentEmail) {
      showMessage("error", "Adresa de email nu este setatÄƒ. ÃncercaÈ›i din nou.");
      showStep("email");
      return;
    }

    isSubmitting = true;
    confirmBtn.disabled = true;
    confirmBtn.textContent = "Se creeazÄƒ sesiunea de platÄƒ...";

    clearMessage();
    showMessage("info", "VÄƒ conectÄƒm la Stripe pentru plata securizatÄƒ. VÄƒ rugÄƒm sÄƒ aÈ™teptaÈ›i...");

    try {
      const response = await fetch("https://payments.civiclearn.com/create-checkout-session", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          email: currentEmail,
          country: "ro",
          product: "romania-premium"
        })
      });

      if (!response.ok) {
        throw new Error("A apÄƒrut o problemÄƒ la iniÈ›ierea plÄƒÈ›ii. ÃncercaÈ›i din nou.");
      }

      const data = await response.json();

      if (!data || !data.url) {
        throw new Error("RÄƒspuns neaÈ™teptat de la serverul de plÄƒÈ›i. ÃncercaÈ›i din nou.");
      }

      window.location.href = data.url;
    } catch (err) {
      showMessage("error", err.message || "A apÄƒrut o eroare neaÈ™teptatÄƒ. ÃncercaÈ›i din nou.");
      isSubmitting = false;
      confirmBtn.disabled = false;
      confirmBtn.textContent = "Da, continuÄƒ cÄƒtre plata securizatÄƒ";
    }
  });
})();
</script>

</body>
</html>
